# План реализации для: Онлайн-форма для отчёта по смене (v2)

## 1. Анализ функций

На основе нового PRD определены следующие доработки существующего функционала:

### Улучшения UI/UX:
- **Header:** Добавить кастомизируемый через `config.json` хэдер с названием приложения и бара.
- **Карточка расхода:** Редизайн для компактного отображения полей в одну линию и улучшения заметности кнопки удаления.
- **Поля ввода сумм:** Реализовать двойное поведение: отображение выражения (`10+20`) в фокусе и итоговой суммы (`30.00`) вне фокуса.
- **Подсказки по кассе:** Скрывать подсказки до полного заполнения всех обязательных полей, отображая вместо них сообщение-плейсхолдер.

### Функциональные доработки:
- **Статус синхронизации:** В сводке за смену отображать статус отправки данных на сервер ("Сохранено локально" / "Синхронизировано").
- **Расширение конфигурации:** Добавить в `config.json` новые поля для кастомизации хэдера.

## 2. Рекомендуемый технологический стек

Технологический стек остается без изменений, согласно первоначальному PRD.

- **Фронтенд:** HTML, CSS, JavaScript (Vanilla JS)
- **Бэкенд (Интеграция):** Fetch API для отправки данных на вебхук n8n.
- **Хранилище:** `localStorage` для автосохранения.
- **Конфигурация:** `config.json`.

## 3. Этапы реализации

### Этап 1: Обновление конфигурации и базовой структуры
**Продолжительность:** 0.5 дня
**Зависимости:** Нет

#### Подэтапы:
- [x] Добавить поля `appName` и `barName` в `config.json`.
- [x] Реализовать чтение новых полей из `config.json` при запуске.
- [x] Создать и отобразить хэдер с `appName` и `barName`.

### Этап 2: Улучшение UX для полей ввода
**Продолжительность:** 1.5 дня
**Зависимости:** Завершение этапа 1

#### Подэтапы:
- [x] Реализовать логику отображения полного выражения в полях ввода сумм при фокусе и итоговой суммы при потере фокуса.
- [x] Обновить CSS для редизайна карточки расхода (элементы в одну линию).
- [x] Увеличить визуальную заметность кнопки удаления расхода (например, иконка или цвет).

### Этап 3: Улучшение информативности интерфейса
**Продолжительность:** 1 день
**Зависимости:** Завершение этапа 1

#### Подэтапы:
- [x] Добавить в HTML-структуру блока "Сводка за смену" элемент для отображения статуса синхронизации.
- [x] Реализовать логику обновления статуса на "Синхронизировано" после успешной отправки данных на вебхук.
- [x] Установить статус по умолчанию "Сохранено локально".
- [x] Реализовать условное отображение подсказок по кассе или сообщения "Заполните все поля".

### Этап 4: Тестирование и завершение
**Продолжительность:** 1 день
**Зависимости:** Завершение этапов 2 и 3

#### Подэтапы:
- [ ] Провести комплексное тестирование нового функционала (UI и логика).
- [ ] Проверить, что существующий функционал (расчеты, автосохранение и т.д.) не нарушен.
- [ ] Проверить корректность отображения на разных экранах (если применимо).

## 4. Ссылки на ресурсы
- [MDN Web Docs](https://developer.mozilla.org/) - Основной справочник по веб-технологиям.

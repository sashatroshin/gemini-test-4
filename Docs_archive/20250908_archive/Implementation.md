# План реализации для [Мульти-бар функционал]

## Анализ функций
### Определенные функции:
- **Выбор бара через URL:** Реализовать механизм выбора активного бара с помощью URL-параметра (`index.html?bar=bar_id`).
- **Динамическая конфигурация:** Приложение должно загружать файл конфигурации из директории `/configs` в зависимости от `bar_id` из URL (например, `/configs/bar_id.json`).
- **Изоляция данных:** Ключ для хранения данных в `localStorage` должен включать идентификатор бара, чтобы избежать конфликтов (например, `shiftData_{bar_id}_{business_date}`).

### Категоризация функций:
- **Обязательные функции:** Все перечисленные функции являются обязательными для реализации мульти-бар архитектуры.
- **Желательные функции:** Нет.
- **Необязательные функции:** Нет.

## Рекомендуемый технологический стек
Технологический стек остается без изменений.
- **Фронтенд:** HTML, CSS, JavaScript (Vanilla JS)
- **Хранилище:** `localStorage`
- **Конфигурация:** Динамические JSON-файлы

## Этапы реализации

### Этап 1: Архитектурные изменения
**Продолжительность:** 1 день
**Зависимости:** Нет

#### Подэтапы:
- [x] Создать директорию `/configs`.
- [x] Создать примеры файлов конфигурации для двух баров (например, `bar1.json`, `bar2.json`) в `/configs`.
- [x] Реализовать логику для чтения параметра `bar` из URL при загрузке страницы.
- [x] Реализовать загрузку соответствующего `.json` файла конфигурации из `/configs` вместо статичного `config.json`.

### Этап 2: Изоляция данных
**Продолжительность:** 1 день
**Зависимости:** Завершение этапа 1

#### Подэтапы:
- [x] Модифицировать функции сохранения и загрузки данных для использования ключа `localStorage` с `bar_id` (например, `shiftData_{bar_id}_{business_date}`).
- [x] Проверить, что данные (черновики, отчеты) для разных баров полностью изолированы.

### Этап 3: Тестирование и завершение
**Продолжительность:** 1 день
**Зависимости:** Завершение этапа 2

#### Подэтапы:
- [x] Провести комплексное тестирование нового функционала (переключение баров, изоляция данных).
- [x] Проверить, что существующий функционал (расчеты, автосохранение и т.д.) не нарушен для каждого бара.
- [x] Проверить корректность отображения на разных экранах.
- [x] Обновить основную документацию для отражения мульти-бар функционала.

## Ссылки на ресурсы
- [MDN Web Docs](https://developer.mozilla.org/) - Основной справочник по веб-технологиям.
- [URLSearchParams - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams)

# Инструкция по созданию PRD (Product Requirements Document)

Этот файл — ваш инструмент для быстрой генерации PRD.

## Шаг 1: Опишите требования ниже

Прямо в этом файле, в секции `ЗАПРОС ПОЛЬЗОВАТЕЛЯ`, опишите в свободной форме требования к вашему новому продукту. Чтобы начать, просто раскомментируйте и отредактируйте пример.

## Шаг 2: Сообщите мне

После того как вы опишете требования, просто напишите мне в чат имя этого файла: `@.trae/rules/generate_prd.md`

Я прочту ваш запрос из этого файла, создам новый PRD на основе шаблона ниже и предложу, куда его сохранить.

---

### <<< ЗАПРОС ПОЛЬЗОВАТЕЛЯ (пишите здесь) >>>

ЗАГОЛОВОК_PRD: Динамическая подсказка по движению наличных

ТРЕБОВАНИЯ:

- **Видение:** Добавить в блок сводки динамическую подсказку, которая информирует пользователя об изменениях в размене и о сумме наличных для изъятия из кассы по итогам смены.
- **Цели:**
    - Дать пользователю чёткую и понятную инструкцию по обращению с наличными в конце смены.
    - Снизить количество ошибок и неопределенности при инкассации.
- **Функциональные Требования:**
    - **Место реализации:** Новая подсказка должна быть добавлена в функцию `updateSummary` в файле `app.js` и отображаться внутри элемента `<div id="summary-messages">`.
    - **Условие отображения:** Подсказка появляется только при выполнении всех следующих условий: все обязательные поля заполнены, отсутствуют расхождения по наличным (`cashDifference == 0`) и отсутствуют расхождения по безналу (`cashlessDifference == 0`). Это необходимо, чтобы не перегружать пользователя противоречащими инструкциями.
    - **Логика:** В зависимости от ситуации, должен выводиться один из трех вариантов текста. Суммы должны быть отформатированы до двух знаков после запятой.
        1.  **Ситуация: Размен потрачен на расходы.**
            - **Условие:** Сумма расходов (`totalExpenses`) > Наличная выручка (`presto_nalichnie`).
            - **Расчет:** `остаток_в_размене = размен + наличная_выручка - расходы`.
            - **Текст:** "В размене осталось: {остаток_в_размене}"
        2.  **Ситуация: Есть излишек наличных для инкассации.**
            - **Условие:** Наличная выручка (`presto_nalichnie`) > Сумма расходов (`totalExpenses`).
            - **Расчет:** `сумма_к_изъятию = наличная_выручка - расходы`.
            - **Текст:** "В конверт убираем: {сумма_к_изъятию}"
        3.  **Ситуация: Движения наличных не было или баланс нулевой.**
            - **Условие:** Наличная выручка (`presto_nalichnie`) == Сумма расходов (`totalExpenses`).
            - **Текст:** "Инкассация наличных не требуется."
    - **Источники данных (переменные из `app.js`):**
        - **Размен:** `razmen` (из поля `#razmen`).
        - **Наличная выручка:** `prestoNalichnie` (из поля `#presto_nalichnie`).
        - **Расходы:** `totalExpenses` (сумма всех `.expense-amount`).

---

<!--
ЗАГОЛОВОК_PRD: Система бронирования переговорных комнат

ТРЕБОВАНИЯ:
- **Видение:** Упростить сотрудникам поиск и бронирование переговорных.
- **Цели:** Снизить конфликты за переговорки, дать администратору инструмент для управления.
- **Аудитория:** Все сотрудники компании.
- **Функции:**
    - Календарь с занятостью всех комнат.
    - Форма бронирования (выбор комнаты, времени, ввод темы встречи).
    - Авторизация через Google-аккаунт.
    - Уведомления в Google Calendar.
- **Стек:** React для фронтенда, Node.js для бэкенда.
-->

---
---

# (Для LLM) Инструкция по генерации

## Задача

1.  **Прочитать запрос:** Возьми содержимое из секции `ЗАПРОС ПОЛЬЗОВАТЕЛЯ` выше. Это — входные данные от пользователя.
2.  **Определить название:** Найди ключ `ЗАГОЛОВОК_PRD`. Это будет название нового документа.
3.  **Заполнить шаблон:** Используй `ТРЕБОВАНИЯ` для заполнения `Шаблона PRD` ниже. Распредели информацию по соответствующим разделам (Видение, Цели, Функции и т.д.).
4.  **Предложить новый файл:**
    *   Создай имя файла по маске`PRD_{сегодняшняя дата}.md`.
    *   Предложи пользователю сохранить сгенерированный контент в новом файле в корне проекта.

## Шаблон PRD

```markdown
# Требования к продукту (PRD): [Название проекта из ЗАГОЛОВОК_PRD]

## 1. Введение и Видение

[Информация из секции "Видение" в ТРЕБОВАНИЯХ]

## 2. Цели и Задачи

[Информация из секции "Цели" в ТРЕБОВАНИЯХ]

## 3. Целевая Аудитория

[Информация из секции "Аудитория" в ТРЕБОВАНИЯХ]

## 4. Технологический Стек

[Информация из секции "Стек" в ТРЕБОВАНИЯХ]

## 5. Дизайн и Пользовательский Опыт (UX)

[Если есть информация в ТРЕБОВАНИЯХ, вставь ее сюда. Если нет, оставь пустым или напиши "Не определено."]

## 6. Функциональные Требования

[Информация из секции "Функции" в ТРЕБОВАНИЯХ]

## 7. Требования к API и Интеграциям

[Если есть информация об интеграциях (например, Google Calendar), опиши ее здесь. Если нет, оставь пустым.]
```
